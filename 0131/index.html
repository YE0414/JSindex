<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>제이쿼리 문서객체 조작 - scroll layout</title>
  <link rel="stylesheet" href="./css/scroll_layout.css" type="text/css">
    <!-- 제이쿼리 라이브러리 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
      $(function(){
        //1. 내비게이션 메뉴 클릭시 해당하는 인덱스 값 구하기
        let mnu = $('header .gnb li');
        
        mnu.click(function(){
          let n = $(this).index();
          let sPos = $('section').eq(n).offset().top
          console.log(n);
          console.log(sPos);
          $('html, body').animate({scrollTop:sPos - 60},500);
          return false;
        });
        //화면 스크롤값 출력해보기
        $(window).scroll(function(){
          let spos = $(this).scrollTop()
          console.log($(this).scrollTop());
        
          //offset메서드로 각각 해당하는 박스의 위치값에 따른 서식 적용하기
          $('main section').each(function(i){
            let top = $(this).offset().top;
            if(spos >= top - 600){
              $('.gnb li a').removeClass('t_act');
              $('.gnb li').eq(i).find('a').addClass('t_act');
            }
          });

        // if(spos<=715){
        //   $('.gnb ul li:first-child a').addClass('t_act');
        // }else if(spos>=816&&spos<=1500){
        //   $('.gnb ul li:nth-child(2) a').addClass('t_act');
        // }else if(spos>=1600&&spos<=2350){
        //   $('.gnb ul li:nth-child(3) a').addClass('t_act');
        // }else if(spos>=2451&&spos<=3250){
        //   $('.gnb ul li:nth-child(4) a').addClass('t_act');
        // }else if(spos>=3351&&spos<=4000){
        //   $('.gnb ul li:nth-child(5) a').addClass('t_act');
        // }else if(spos>=4101&&spos<=4700){
        //   $('.gnb ul li:nth-child(6) a').addClass('t_act');
        // }else if(spos>=4851&&spos<=5200){
        //   $('.gnb ul li:last-child a').addClass('t_act');
        // }else{
        //   //조건에 해당하지 않으면 서식 제거
        //   $('.gnb ul li a').removeClass('t_act');
        // }
      });
      });
    </script>
</head>
<body>
  <!-- 헤더 -->
  <header>
    <h1><a href="index.html" title="메인페이지 바로가기">상단로고</a></h1>
    <nav class="gnb">
    <ul>
        <li><a href="#" title="home">home</a></li>
        <li><a href="#" title="features">features</a></li>
        <li><a href="#" title="overview">overview</a></li>
        <li><a href="#" title="pricing">pricing</a></li>
        <li><a href="#" title="team">team</a></li>
        <li><a href="#" title="blog">blog</a></li>
        <li><a href="#" title="contact">contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- 메인 -->
  <main>
<section class="sec01">
  <h2>메인 비주얼 콘텐츠</h2>
</section>

<section class="sec02">
  <h2>features</h2>
</section>

<section class="sec03">
  <h2>overview</h2>
</section>

<section class="sec04">
  <h2>pricing</h2>
</section>

<section class="sec05">
  <h2>team</h2>
</section>

<section class="sec06">
  <h2>blog</h2>
</section>

<section class="sec07">
  <h2>contact</h2>
</section>

  </main>

  <!-- 푸터 -->
  <footer>
    <address>
      copyright&copy;2023 000
    </address>

  </footer>
</body>
</html>